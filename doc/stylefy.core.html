<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>stylefy.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Stylefy</span> <span class="project-version">1.14.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stylefy</span></div></div></li><li class="depth-2 branch"><a href="stylefy.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-2 branch current"><a href="stylefy.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-3 branch"><a href="stylefy.impl.cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cache</span></div></a></li><li class="depth-3 branch"><a href="stylefy.impl.conversion.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversion</span></div></a></li><li class="depth-3 branch"><a href="stylefy.impl.dom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dom</span></div></a></li><li class="depth-3 branch"><a href="stylefy.impl.hashing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hashing</span></div></a></li><li class="depth-3 branch"><a href="stylefy.impl.styles.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>styles</span></div></a></li><li class="depth-3"><a href="stylefy.impl.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="stylefy.core.html#var-class"><div class="inner"><span>class</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-font-face"><div class="inner"><span>font-face</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-keyframes"><div class="inner"><span>keyframes</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-prepare-style"><div class="inner"><span>prepare-style</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-prepare-styles"><div class="inner"><span>prepare-styles</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-sub-style"><div class="inner"><span>sub-style</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-tag"><div class="inner"><span>tag</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-use-style"><div class="inner"><span>use-style</span></div></a></li><li class="depth-1"><a href="stylefy.core.html#var-use-sub-style"><div class="inner"><span>use-sub-style</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">stylefy.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-class"><h3>class</h3><div class="usage"><code>(class name properties)</code></div><div class="doc"><pre class="plaintext">Creates a CSS class with the given name and properties and adds it into the DOM asynchronously.

Normally you should let stylefy convert your style maps to unique CSS classes by calling
use-style. Thus, there is usually no need to create customly named classes when using stylefy,
unless you work with some 3rd party framework.

Example:
(stylefy/class "enter-transition"
                {:transition "background-color 2s"})</pre></div></div><div class="public anchor" id="var-font-face"><h3>font-face</h3><div class="usage"><code>(font-face properties)</code></div><div class="doc"><pre class="plaintext">Adds the given font-face definition into the DOM asynchronously.
Properties are given in the same form as Garden accepts them.

Example:
(stylefy/font-face {:font-family "open_sans"
                    :src "url('../fonts/OpenSans-Regular-webfont.woff') format('woff')"
                    :font-weight "normal"
                    :font-style "normal"})</pre></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init)</code><code>(init options)</code></div><div class="doc"><pre class="plaintext">Initialises stylefy.

The following options are supported:
  :use-caching?             If true, caches the generated CSS code using localstorage
                            so that future page loads work faster. Defaults to true since version 1.7.0.
                            Also check :cache-options.
  :cache-options            A map which can contain the following keywords:
    :expires                Number of seconds after the cache is cleared automatically.
                            For example, value 604800 clears the cache after one week.
                            By default, the cache is never cleared automatically.
                            You can also clear the cache manually by calling stylefy.cache/clear.
  :global-vendor-prefixes   A map containing a set of ::stylefy/vendors and ::stylefy/auto-prefix properties.
                            These properties are globally prefixed in all stylefy style maps.
  :use-custom-class-prefix? If set to true, custom class prefix is used if the style map contains it.
                            By default, this is set to false.
                            It is recommended to set this to true only in development / test environment.
  :multi-instance           Provides support for multiple stylefy instances.
                            This can be used if you need to run multiple SPA applications
                            on the same page and at least two of them are using stylefy.
    :base-node              Base node where this instance's &lt;style&gt; tags are queried. Not required.
    :instance-id            Unique string (for example app name). This is used as suffix for stylefy's &lt;style&gt; tags
                            so make sure you name each instance's &lt;style&gt; tags correctly. For example:
                            &lt;style id="_stylefy-styles_myapp"&gt;
                            &lt;style id="_stylefy-constant-styles_myapp"&gt;
                            This value is also used as suffix in caching.</pre></div></div><div class="public anchor" id="var-keyframes"><h3>keyframes</h3><div class="usage"><code>(keyframes identifier &amp; frames)</code></div><div class="doc"><pre class="plaintext">Adds the given keyframe definition into the DOM asynchronously.
Identifier is the name of the keyframes.
Frames are given in the same form as Garden accepts them.

Example:
(stylefy/keyframes "simple-animation"
                    [:from
                     {:opacity 0}]
                    [:to
                     {:opacity 1}])</pre></div></div><div class="public anchor" id="var-prepare-style"><h3>prepare-style</h3><div class="usage"><code>(prepare-style style)</code></div><div class="doc"><pre class="plaintext">Same as prepare-styles, but takes only one style map as a parameter, prepares it
and returns it. Can be used easily along with use-style: (use-style (prepare-style style)).

Since prepare-style works synchronously, it can become slow if called multiple times
during a single render. If this is the case, it is recommended to use prepare-styles
instead to prepare as many styles as possible at once.</pre></div></div><div class="public anchor" id="var-prepare-styles"><h3>prepare-styles</h3><div class="usage"><code>(prepare-styles styles)</code></div><div class="doc"><pre class="plaintext">Converts the given styles and their sub-styles to CSS and adds them into the DOM
synchronously (immediately).

When you call use-style, the given style is converted to CSS and will
be added into the DOM asynchronously. Until then, the style is returned as inline style,
except if it cannot be present as inline style, in which case the style is going to be
hidden for a (very) short period of time. In most cases, this should not be a problem,
but if needed, styles can also be added into the DOM synchronously (immediately)
by calling this function. It is recommended to call this function during the
:component-will-mount lifecycle method. It makes sure the given styles are
completely ready to be used when the component needs them.

It's good to keep in mind that most of the time this function is not needed,
but calling use-style is enough.</pre></div></div><div class="public anchor" id="var-sub-style"><h3>sub-style</h3><div class="usage"><code>(sub-style style &amp; sub-styles)</code></div><div class="doc"><pre class="plaintext">Returns sub-style for a given style.
</pre></div></div><div class="public anchor" id="var-tag"><h3>tag</h3><div class="usage"><code>(tag name properties)</code></div><div class="doc"><pre class="plaintext">Creates a CSS selector for the given tag and properties and adds it into the DOM asynchronously.

Normally you should let stylefy convert your style maps to unique CSS classes by calling
use-style, instead of creating tag selectors. However, custom tag styles
can be useful for setting styles on base elements, like html or body.

Example:
(stylefy/tag "code"
              {:background-color "lightyellow"})</pre></div></div><div class="public anchor" id="var-use-style"><h3>use-style</h3><div class="usage"><code>(use-style style)</code><code>(use-style style options)</code></div><div class="doc"><pre class="plaintext">Defines a style for a component by converting the given style map in to an unique CSS class,
and returning a pointer (a map with :class keyword) to it so that the component can use it.
To keep the rendering process fast, use-style works asynchronously, meaning that it
does not add the generated CSS class into the DOM immediately, but very soon instead.
If the style has not been added into the DOM yet, it returns the given props as inline style,
so that the component looks good even if CSS class has not been generated yet.

Important exception: if the style contains specific modes or media query definitions,
which cannot be used as inline style, {:style {:visibility "hidden"}} is returned.
Thus, the component is going to be hidden for a few milliseconds.
In most cases, this is not a problem, but if you want to avoid it, see prepare-styles function.

The given 'style' parameter is a map which contains CSS style properties
(as supported by Garden library). There can also be special namespaced keywords
along with the style definitions. These are:

Core features:

::sub-styles        Makes it possible to define a named style map inside of the main style map.
                    The contents of ::sub-styles should be a map, in which keys define the name of
                    the sub-style and values contain the style properties.
                    Sub-styles are nothing special, they are supposed to contain the same contents
                    as the main style map. ::sub-styles helps you to define styles that are closely
                    related to the main style map but do not deserve their own 'def'.
::mode              A map in which keys are mode names and values are style properties.
                    Internally all modes are converted to CSS pseudoclasses or pseudoelements.
                    You can use any mode name that is a valid CSS speudoclass.
::media             A map in which keys are maps presenting CSS media query definitions, and values
                    are style maps which are used when the media query is active.
                    Vendor prefixes and modes can be used inside the media query style map.
::supports          A map in which keys are strings presenting CSS feature query definitions, and values
                    are style maps which are used when the supports query is active.
                    Vendor prefixes, media queries and modes can be used inside the support query style map.
::vendors           A vector of vendor prefixes that are used with ::auto-prefix.
::auto-prefix       A set of style properties that should be prefixed with ::vendors.
::with-classes      A collection of additional class names that should always be used with
                    this style definition.

Additional features:

::class-prefix      Custom prefix for generated class names. If not given, the default prefix will be used.
                    Custom prefix can be used for debugging and automatic software testing purposes.
                    Note that you need to set custom class prefixes on in the init function.
::manual            Manual mode can be used to style child elements with manually written CSS selectors
                    using Garden syntax. It should be used only for styling 3rd party components and
                    resolving corner cases in which complex CSS selectors are needed.
                    For the most part, it is recommended to use ::sub-styles.

Options is an optional map, which contains HTML attributes (:class, :href, :src etc.).
It can also contain the following special keywords features:

::with-classes       DEPRECATED. A vector of additional class names used with the current style.
                     Deprecated since version 1.3.0: The options map can now contain
                     any HTML attributes. Thus, you can just use :class instead of ::with-classes.</pre></div></div><div class="public anchor" id="var-use-sub-style"><h3>use-sub-style</h3><div class="usage"><code>(use-sub-style style sub-style)</code><code>(use-sub-style style sub-style options)</code></div><div class="doc"><pre class="plaintext">Defines style for a component using sub-style.

The style and options are the same as you would use with use-style.
sub-style is the name of the sub-stale in the given style map.

If you have a deeper sub-style nesting, ie. you want to get a sub-style from sub-style,
take a look at sub-style function.</pre></div></div></div></body></html>